<!DOCTYPE html>
<html>
<head>
	<title>Tic Tac Toe</title>
	<style>
		html{
			background-color: black;
		}
		#title{
			margin: auto;
			color: blue;
			font-size: 120px;
			text-align: center;
		}
		.file{
			width: 400px;
			height: 400px;
			background-color: grey;
			margin: auto;
			padding-left: 7px;
			position: relative;
		}
		.btn{
			width: 110px;
			height: 110px;
			font-size: 80px;
			background-color: black;
			color: red;
			margin: 10px;
			float: left;
		}
	</style>
</head>
<body>
	<h1 id="title">Tic Tac Toe<h1>
	<br/>
	<div class="file">
		<button id="1" class="btn" onclick="play(1)"></button>
		<button id="2" class="btn" onclick="play(2)"></button>
		<button id="3" class="btn" onclick="play(3)"></button>
		<button id="4" class="btn" onclick="play(4)"></button>
		<button id="5" class="btn" onclick="play(5)"></button>
		<button id="6" class="btn" onclick="play(6)"></button>
		<button id="7" class="btn" onclick="play(7)"></button>
		<button id="8" class="btn" onclick="play(8)"></button>
		<button id="9" class="btn" onclick="play(9)"></button>


	</div>
</body>
	<script type="text/javascript">
		var count=0;
		var ply = "1";
		function run(){
			window.open('./index.html',target="_parent")
		}
		function play(ele){
			if (ply == "1"){
				ply = "2";
				count+=1;
				var name = window.location.href.split("?")[1].split('&');
				var name1=name[0].split('=')[1],name2=name[1].split('=')[1];
				switch(ele){
					case 1:
						document.getElementById("1").style.color="red";
						document.getElementById("1").innerText = "x" ;
						document.getElementById("1").onclick = "" ;
						break;
					case 2:
						document.getElementById("2").style.color="red";
						document.getElementById("2").innerText = "x" ;
						document.getElementById("2").onclick = "" ;
						break;
					case 3:
						document.getElementById("3").style.color="red";
						document.getElementById("3").innerText = "x" ;
						document.getElementById("3").onclick = "" ;
						break;
					case 4:
						document.getElementById("4").style.color="red";
						document.getElementById("4").onclick = "" ;
						document.getElementById("4").innerText = "x" ;
						break;
					case 5:
						document.getElementById("5").style.color="red";
						document.getElementById("5").innerText = "x" ;
						document.getElementById("5").onclick = "" ;
						break;
					case 6:
						document.getElementById("6").style.color="red";
						document.getElementById("6").innerText = "x" ;
						document.getElementById("6").onclick = "" ;
						break;
					case 7:
						document.getElementById("7").style.color="red";
						document.getElementById("7").innerText = "x" ;
						document.getElementById("7").onclick = "" ;
						break;
					case 8:
						document.getElementById("8").style.color="red";
						document.getElementById("8").innerText = "x" ;
						document.getElementById("8").onclick = "" ;
						break;
					case 9:
						document.getElementById("9").style.color="red";
						document.getElementById("9").innerText = "x" ;
						document.getElementById("9").onclick = "" ;
						break;	
				}
			}else{
				ply = "1";
				count+=1;
				switch(ele){
					case 1:
						document.getElementById("1").style.color="blue";
						document.getElementById("1").innerText = "o" ;
						document.getElementById("1").onclick = "" ;
						break;					
					case 2:
						document.getElementById("2").style.color="blue";
						document.getElementById("2").innerText = "o" ;
						document.getElementById("2").onclick = "" ;
						break;					
					case 3:
						document.getElementById("3").style.color="blue";
						document.getElementById("3").innerText = "o" ;
						document.getElementById("3").onclick = "" ;
						break;					
					case 4:
						document.getElementById("4").style.color="blue";
						document.getElementById("4").innerText = "o" ;
						document.getElementById("4").onclick = "" ;
						break;					
					case 5:
						document.getElementById("5").style.color="blue";
						document.getElementById("5").innerText = "o" ;
						document.getElementById("5").onclick = "" ;
						break;					
					case 6:
						document.getElementById("6").style.color="blue";
						document.getElementById("6").innerText = "o" ;
						document.getElementById("6").onclick = "" ;
						break;					
					case 7:
						document.getElementById("7").style.color="blue";
						document.getElementById("7").innerText = "o" ;
						document.getElementById("7").onclick = "" ;
						break;					
					case 8:
						document.getElementById("8").style.color="blue";
						document.getElementById("8").innerText = "o" ;
						document.getElementById("8").onclick = "" ;
						break;					
					case 9:
						document.getElementById("9").style.color="blue";
						document.getElementById("9").innerText = "o" ;
						document.getElementById("9").onclick = "" ;
						break;
				}
			}
			if (count == 9){
				ply = '';
				var opt1 = document.getElementById("1").innerText ;
				var opt2 = document.getElementById("2").innerText ;
				var opt3 = document.getElementById("3").innerText ;
				var opt4 = document.getElementById("4").innerText ;
				var opt5 = document.getElementById("5").innerText ;
				var opt6 = document.getElementById("6").innerText ;
				var opt7 = document.getElementById("7").innerText ;
				var opt8 = document.getElementById("8").innerText ;
				var opt9 = document.getElementById("9").innerText ;
				if (opt1 == 'x' && opt2 == 'x' && opt3 == 'x' ){
					
					ply = '1';
				}
				else if(opt4 == 'x' && opt5 == 'x' && opt6 == 'x' ){
					
					ply = '1';
				}
				else if(opt7 == 'x' && opt8 == 'x' && opt9 == 'x' ){
					
					ply = '1';
				}
				else if(opt1 == 'x' && opt4 == 'x' && opt7 == 'x' ){
					
					ply = '1';
				}
				else if(opt5 == 'x' && opt2 == 'x' && opt8 == 'x' ){
					
					ply = '1';
				}
				else if(opt6 == 'x' && opt9 == 'x' && opt3 == 'x' ){
					
					ply = '1';
				}
				else if(opt1 == 'x' && opt5 == 'x' && opt9 == 'x' ){
					
					ply = '1';
				}
				else if(opt7 == 'x' && opt5 == 'x' && opt3 == 'x' ){
					
					ply = '1';
				}
				if (opt1 == 'o' && opt2 == 'o' && opt3 == 'o' ){
					ply += '2';
				}
				else if(opt4 == 'o' && opt5 == 'o' && opt6 == 'o' ){
					
					ply += '2';
				}
				else if(opt7 == 'o' && opt8 == 'o' && opt9 == 'o' ){
					
					ply += '2';
				}
				else if(opt1 == 'o' && opt4 == 'o' && opt7 == 'o' ){
					
					ply += '2';
				}
				else if(opt5 == 'o' && opt2 == 'o' && opt8 == 'o' ){
					
					ply += '2';
				}
				else if(opt6 == 'o' && opt9 == 'o' && opt3 == 'o' ){
					
					ply += '2';
				}
				else if(opt1 == 'o' && opt5 == 'o' && opt9 == 'o' ){
					ply += '2';
				}
				else if(opt7 == 'o' && opt5 == 'o' && opt3 == 'o' ){
					ply += '2';
				}
				else{
					if(opt1 + opt2 + opt3 + opt4 + opt5 + opt6 + opt7 + opt8 + opt9 == 'xoxoxoxox'){
						ply = '1';
					}
					else{
						ply = 'draw';
					}
				}
				if(ply=='1'){
					document.write(`<center><h1>Game Over</h1><br/><h2>${name1} WON</h2></center>`);
					setTimeout(run,4000);
				}
				else if(ply == '2'){
					document.write(`<center><h1>Game Over</h1><br/><h2>${name2} WON</h2></center>`);
					setTimeout(run,4000);
				}
				else{
					document.write(`<center><h1>Game Over</h1><br/><h2>Draw</h2></center>`);
					setTimeout(run,4000);
				}
			}
		}		
	</script>
</html>